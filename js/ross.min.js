function Initialize() {
    canvas.addEventListener("mousemove", MouseMove, !1),
    window.addEventListener("resize", ResizeCanvas, !1),
    setInterval(TimeUpdate, 20),
    context.beginPath(),
    ResizeCanvas()
}
function TimeUpdate(a) {
    context.clearRect(0, 0, window.innerWidth, window.innerHeight);
    var c, d, e = new Array(points.length);
    for (c = 0; c < particles.length; c++)
        for (e[c] = new Array(particles.length),
        d = 0; d < particles.length; d++)
            e[c][d] = 0;
    for (var c = 0; c < particles.length; c++) {
        particles[c].x += particles[c].vx,
        particles[c].y += particles[c].vy,
        particles[c].x > window.innerWidth ? particles[c].vx = -1 - Math.random() : particles[c].x < 0 ? particles[c].vx = 1 + Math.random() : particles[c].vx *= 1 + .005 * Math.random(),
        particles[c].y > window.innerHeight ? particles[c].vy = -1 - Math.random() : particles[c].y < 0 ? (particles[c].y = window.innerHeight,
        particles[c].vy = 1) : particles[c].vy *= 1,
        context.strokeStyle = particles[c].color,
        context.beginPath();
        var f = MAX_DIST_2;
        particles.forEach(function(a, b) {
            var d = Math.pow(a.x - particles[c].x, 2) + Math.pow(a.y - particles[c].y, 2);
            if (d < f && a != particles[c] && (f = d),
            !(a == particles[c] || d > MAX_DIST_2 || e[c][b])) {
                context.moveTo(particles[c].x, particles[c].y);
                var g = particles[c].x > a.x ? particles[c].x : a.x
                  , h = particles[c].y < a.y ? particles[c].y : a.y;
                context.quadraticCurveTo(g, h, a.x, a.y),
                context.strokeStyle = "rgba(249,179,121," + (1 - d / MAX_DIST_2) + " )",
                e[c][b] = 1,
                e[b][c] = 1
            }
        }),
        context.stroke();
        var g = DistanceBetween(mouse, particles[c]);
        g = Math.max(Math.min(15 - g / 10, 10), 1),
        context.fillStyle = particles[c].color,
        context.beginPath(),
        context.arc(particles[c].x, particles[c].y, particles[c].size * g, 0, 2 * Math.PI, !0),
        context.closePath(),
        context.fill()
    }
}
function MouseMove(a) {
    mouse.x = a.layerX,
    mouse.y = a.layerY
}
function Draw(a, b) {
    context.strokeStyle = "#ff0000",
    context.lineWidth = 4,
    context.lineTo(a, b),
    context.stroke()
}
function ResizeCanvas(a) {
    canvas.width = window.innerWidth,
    canvas.height = window.innerHeight
}
function DistanceBetween(a, b) {
    var c = b.x - a.x
      , d = b.y - a.y;
    return Math.sqrt(c * c + d * d)
}
function scrollToElement(a, b, c) {
    b = "undefined" != typeof b ? b : 1e3,
    c = "undefined" != typeof c ? c : 0,
    element = $(a),
    offset = element.offset(),
    offsetTop = offset.top + c,
    $("html, body").animate({
        scrollTop: offsetTop
    }, b)
}
for (var particles = [], dots = Math.floor(window.innerWidth / 25), i = 0; i < dots; i++)
    particles.push({
        x: Math.random() * window.innerWidth,
        y: Math.random() * window.innerHeight,
        vx: 0,
        vy: -1 * Math.random() - Math.random() - .05,
        history: [],
        size: 2,
        color: "#F9B379"
    });
var mouse = {
    x: 0,
    y: 0
}, canvas = document.getElementById("canvasElement"), points = [], width = canvas.width, height = canvas.height, intsy, MAX_DIST_2 = 1e4, circRadius = 4;
if (canvas && canvas.getContext) {
    var context = canvas.getContext("2d");
    Initialize()
}
!function(a) {
    a.fn.vAlign = function() {
        return this.each(function(b) {
            var c = a(this).height()
              , d = a(this).parent().height()
              , e = Math.ceil((d - c) / 2);
            a(this).css("margin-top", e)
        })
    }
}(jQuery);
var body = document.body, timer;
$(document).ready(function() {
    $("nav.main").offset().top,
    $("#canvasElement");
    $("a.tohome").click(function() {
        scrollToElement("body")
    }),
    $("a.toprojects").click(function() {
        scrollToElement(".projectinfo")
    }),
    $("a.toskills").click(function() {
        scrollToElement("#section5")
    }),
    $("a.tocontact").click(function() {
        $("html, body").animate({
            scrollTop: $(document).height()
        }, 1e3)
    }),
    $(".foliolink").hover(function() {
        "#" == $(this).attr("href") && $(this).css("cursor", "default")
    }),
    $(".foliolink").click(function() {
        "#" == $(this).attr("href") && event.preventDefault()
    }),
    $(".foliohover").click(function() {
        event.preventDefault()
    })
});
